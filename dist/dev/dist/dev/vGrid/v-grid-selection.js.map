{"version":3,"sources":["vGrid/v-grid-selection.js"],"names":[],"mappings":"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","file":"vGrid/v-grid-selection.js","sourceRoot":"/source/","sourcesContent":["/*****************************************************************************************************************\r\n *    vGridSelection\r\n *    This just inserts the strings into html templates\r\n *    Created by vegar ringdal\r\n *\r\n ****************************************************************************************************************/\r\nexport class VGridSelection {\r\n\r\n  constructor(mode, vGrid) {\r\n\r\n    this.vGrid = vGrid;\r\n    this.selectionMode = \"none\";\r\n    this.lastRowSelected = -1; //this need to be reset when filtering\r\n    this.lastKeyKodeUsed = \"none\"; //this ned to be reset when filtering\r\n    this.selectedRows = 0;\r\n\r\n    if (mode === false) {\r\n      this.selectionMode = \"single\";\r\n    }\r\n    if (mode === true) {\r\n      this.selectionMode = \"multiple\";\r\n    }\r\n\r\n    this.selection = new Set([]);\r\n\r\n\r\n  }\r\n\r\n\r\n  triggerEvent(){\r\n    //send out event\r\n    this.vGrid.sendCollectionEvent();\r\n  }\r\n\r\n\r\n  setMode(mode) {\r\n    this.selectionMode = \"none\";\r\n    if (mode === false) {\r\n      this.selectionMode = \"single\";\r\n    }\r\n    if (mode === true) {\r\n      this.selectionMode = \"multiple\";\r\n    }\r\n\r\n  }\r\n\r\n\r\n  isSelected(row) {\r\n    var result = false;\r\n    if (this.selectedRows > 0) {\r\n      if (this.vGrid.vGridCollectionFiltered[row]) {\r\n        result = this.selection.has(this.vGrid.vGridCollectionFiltered[row][this.vGrid.vGridRowKey]);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n\r\n  isSelectedMain(row) {\r\n    var result = false;\r\n    if (this.selectedRows > 0) {\r\n      if (this.vGrid.vGridCollection[row]) {\r\n        result = this.selection.has(this.vGrid.vGridCollection[row][this.vGrid.vGridRowKey]);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n\r\n  deSelect(row) {\r\n    if (this.vGrid.vGridCollectionFiltered[row]) {\r\n      this.selection.delete(this.vGrid.vGridCollectionFiltered[row][this.vGrid.vGridRowKey]);\r\n    }\r\n    this.selectedRows = this.selection.size;\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n\r\n  }\r\n\r\n\r\n  deSelectMain(row) {\r\n    if (this.vGrid.vGridCollection[row]) {\r\n      this.selection.delete(this.vGrid.vGridCollection[row][this.vGrid.vGridRowKey]);\r\n    }\r\n    this.selectedRows = this.selection.size;\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n\r\n  }\r\n\r\n\r\n  select(row, addToSelection) {\r\n    switch (this.selectionMode) {\r\n      case \"none\":\r\n      case null:\r\n      case undefined:\r\n        break;\r\n      case \"single\":\r\n        this.selection.clear();\r\n        if (this.vGrid.vGridCollectionFiltered[row]) {\r\n          this.selection.add(this.vGrid.vGridCollectionFiltered[row][this.vGrid.vGridRowKey]);\r\n        }\r\n        this.selectedRows = this.selection.size;\r\n        break;\r\n      case \"multiple\":\r\n        if (!addToSelection) {\r\n          this.selection.clear();\r\n          if (this.vGrid.vGridCollectionFiltered[row]) {\r\n            this.selection.add(this.vGrid.vGridCollectionFiltered[row][this.vGrid.vGridRowKey]);\r\n          }\r\n          this.selectedRows = this.selection.size;\r\n        } else {\r\n          if (this.vGrid.vGridCollectionFiltered[row]) {\r\n            this.selection.add(this.vGrid.vGridCollectionFiltered[row][this.vGrid.vGridRowKey]);\r\n          }\r\n          this.selectedRows = this.selection.size;\r\n        }\r\n    }\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n\r\n  }\r\n\r\n\r\n  selectMain(row, addToSelection) {\r\n    switch (this.selectionMode) {\r\n      case \"none\":\r\n      case null:\r\n      case undefined:\r\n        break;\r\n      case \"single\":\r\n        this.selection.clear();\r\n        if (this.vGrid.vGridCollection[row]) {\r\n          this.selection.add(this.vGrid.vGridCollection[row][this.vGrid.vGridRowKey]);\r\n        }\r\n        this.selectedRows = this.selection.size;\r\n        break;\r\n      case \"multiple\":\r\n        if (!addToSelection) {\r\n          this.selection.clear();\r\n          if (this.vGrid.vGridCollection[row]) {\r\n            this.selection.add(this.vGrid.vGridCollection[row][this.vGrid.vGridRowKey]);\r\n          }\r\n          this.selectedRows = this.selection.size;\r\n        } else {\r\n          if (this.vGrid.vGridCollection[row]) {\r\n            this.selection.add(this.vGrid.vGridCollection[row][this.vGrid.vGridRowKey]);\r\n          }\r\n          this.selectedRows = this.selection.size;\r\n        }\r\n    }\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n\r\n  }\r\n\r\n\r\n  selectRange(start, end) {\r\n    if (this.selectionMode === \"multiple\") {\r\n      this.selection.clear();\r\n      for (var i = start; i < end + 1; i++) {\r\n        this.selection.add(this.vGrid.vGridCollectionFiltered[i][this.vGrid.vGridRowKey]);\r\n      }\r\n      this.selectedRows = this.selection.size;\r\n    }\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n  }\r\n\r\n\r\n  selectAll() {\r\n    if (this.selectionMode === \"multiple\") {\r\n      for (var i = 0; i < this.vGrid.vGridCollectionFiltered.length; i++) {\r\n        this.selection.add(this.vGrid.vGridCollectionFiltered[i][this.vGrid.vGridRowKey]);\r\n      }\r\n      this.selectedRows = this.selection.size;\r\n    }\r\n    if (this.selectionMode === \"single\" && this.vGrid.vGridCurrentRow >= 0) {\r\n      this.selection.clear();\r\n      this.selection.add(this.vGrid.vGridCollectionFiltered[this.vGrid.vGridCurrentRow][this.vGrid.vGridRowKey]);\r\n      this.selectedRows = this.selection.size;\r\n    }\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n\r\n  }\r\n\r\n  deSelectAll() {\r\n    for (var i = 0; i < this.vGrid.vGridCollectionFiltered.length; i++) {\r\n      this.selection.delete(this.vGrid.vGridCollectionFiltered[i][this.vGrid.vGridRowKey]);\r\n    }\r\n    this.selectedRows = this.selection.size;\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n  }\r\n\r\n\r\n  selectRangeMain(start, end) {\r\n    if (this.selectionMode === \"multiple\") {\r\n      this.selection.clear();\r\n      for (var i = start; i < end + 1; i++) {\r\n        this.selection.add(this.vGrid.vGridCollection[i][this.vGrid.vGridRowKey]);\r\n      }\r\n      this.selectedRows = this.selection.size;\r\n    }\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n  }\r\n\r\n\r\n  reset() {\r\n    if (this.selectedRows > 0) {\r\n      this.selection.clear();\r\n    }\r\n    this.lastRowSelected = -1;\r\n    this.lastKeyKodeUsed = \"none\";\r\n    this.selectedRows = this.selection.size;\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n  }\r\n\r\n\r\n  getSelectedRows() {\r\n    var array = [];\r\n    if (this.selectedRows > 0) {\r\n      this.vGrid.vGridCollectionFiltered.forEach((x, index) => {\r\n        if (this.selection.has(x[this.vGrid.vGridRowKey]) === true) {\r\n          array.push(index);\r\n        }\r\n      });\r\n    }\r\n    return array;\r\n\r\n  }\r\n\r\n\r\n  getSelectedRowsMain() {\r\n    var array = [];\r\n    if (this.selectedRows > 0) {\r\n      this.vGrid.vGridCollection.forEach((x, index) => {\r\n        if (this.selection.has(x[this.vGrid.vGridRowKey]) === true) {\r\n          array.push(index);\r\n        }\r\n      });\r\n    }\r\n    return array;\r\n  }\r\n\r\n  setSelectedRows(newRows) {\r\n    if (this.selectedRows > 0) {\r\n      this.selection.clear();\r\n    }\r\n    for (var i = 0; i < newRows.length; i++) {\r\n      this.selection.add(this.vGrid.vGridCollectionFiltered[newRows[i]][this.vGrid.vGridRowKey]);\r\n    }\r\n    this.selectedRows = this.selection.size;\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n\r\n  }\r\n\r\n\r\n  setSelectedRowsMain(newRows) {\r\n    if (this.selectedRows > 0) {\r\n      this.selection.clear();\r\n    }\r\n    for (var i = 0; i < newRows.length; i++) {\r\n      this.selection.add(this.vGrid.vGridCollection[newRows[i]][this.vGrid.vGridRowKey]);\r\n    }\r\n    this.selectedRows = this.selection.size;\r\n\r\n    //send out event\r\n    this.triggerEvent();\r\n\r\n  }\r\n\r\n\r\n  /****************************************************************************************************************************\r\n   * fixes highlight and select...\r\n   ****************************************************************************************************************************/\r\n  highlight(e, currentRow, vGridGenerator) {\r\n\r\n    var isSel;\r\n    var manualSel = this.vGrid.vGridConfig.attManualSelection;\r\n    if (!manualSel) {\r\n      var currentselectedRows = this.getSelectedRows();\r\n      var currentKeyKode = \"\";\r\n\r\n      if (currentRow !== this.lastRowSelected || currentselectedRows[0] !== currentRow) {\r\n\r\n        if (currentRow <= (vGridGenerator.vGridConfig.getCollectionLength() - 1)) { //do I need to check this?\r\n\r\n          if (this.selectionMode === \"multiple\") { //if multiselect duh!\r\n\r\n\r\n\r\n            if (e.shiftKey) {\r\n              currentKeyKode = \"shift\";\r\n              currentselectedRows = this.getSelectedRows();\r\n              if (currentselectedRows.length > 0 && this.lastKeyKodeUsed === \"none\") {\r\n                this.lastRowSelected = currentselectedRows[0];\r\n                this.lastKeyKodeUsed = \"shift\";\r\n              }\r\n            }\r\n\r\n            if (e.ctrlKey) {\r\n              currentKeyKode = \"ctrl\";\r\n            }\r\n\r\n            if (!e.ctrlKey && !e.shiftKey) {\r\n              currentKeyKode = \"none\";\r\n            }\r\n\r\n            switch (true) {\r\n              case currentKeyKode === \"none\":\r\n                this.select(currentRow);\r\n                break;\r\n              case this.lastKeyKodeUsed === \"shift\" && currentKeyKode === \"ctrl\":\r\n\r\n                isSel = this.isSelected(currentRow);\r\n                if (isSel === true) {\r\n                  this.deSelect(currentRow);\r\n                } else {\r\n                  this.select(currentRow, true);\r\n                }\r\n                this.lastRowSelected = currentRow;\r\n                break;\r\n\r\n              case this.lastKeyKodeUsed === \"ctrl\" && currentKeyKode === \"shift\":\r\n                var oldSel = this.getSelectedRows();\r\n                this.selectRange(this.lastRowSelected, currentRow);\r\n                var newSel = this.getSelectedRows();\r\n                this.setSelectedRows(oldSel.concat(newSel));\r\n\r\n                break;\r\n\r\n              case this.lastKeyKodeUsed === \"ctrl\" && currentKeyKode === \"ctrl\":\r\n\r\n                isSel = this.isSelected(currentRow);\r\n                if (isSel === true) {\r\n                  this.deSelect(currentRow);\r\n                } else {\r\n                  this.select(currentRow, true);\r\n                }\r\n                this.lastRowSelected = currentRow;\r\n                break;\r\n\r\n              case this.lastKeyKodeUsed === \"none\" && currentKeyKode === \"ctrl\":\r\n\r\n                isSel = this.isSelected(currentRow);\r\n                if (isSel === true) {\r\n                  this.deSelect(currentRow);\r\n                } else {\r\n                  this.select(currentRow, true);\r\n                }\r\n                this.lastRowSelected = currentRow;\r\n                break;\r\n\r\n              case this.lastKeyKodeUsed === \"shift\" && currentKeyKode === \"shift\":\r\n\r\n                if (this.lastRowSelected > currentRow) {\r\n                  this.selectRange(currentRow, this.lastRowSelected);\r\n                } else {\r\n                  this.selectRange(this.lastRowSelected, currentRow);\r\n                }\r\n\r\n                break;\r\n\r\n              case this.lastKeyKodeUsed === \"none\" && currentKeyKode === \"shift\":\r\n\r\n                if (this.lastRowSelected !== -1) {\r\n                  if (this.lastRowSelected > currentRow) {\r\n                    this.selectRange(currentRow, this.lastRowSelected);\r\n                  } else {\r\n                    this.selectRange(this.lastRowSelected, currentRow);\r\n                  }\r\n                } else {\r\n                  this.lastRowSelected = currentRow;\r\n                  this.select(currentRow);\r\n                }\r\n                break;\r\n              default:\r\n                console.error(\"error, this should not happen, debug selection\");\r\n            }\r\n          } else {\r\n            this.select(currentRow);\r\n          }\r\n          this.lastKeyKodeUsed = currentKeyKode;\r\n\r\n          //update selection on rows\r\n          vGridGenerator.updateSelectionOnAllRows();\r\n        }\r\n      } else {\r\n\r\n        //same row clicked again\r\n        if (e.ctrlKey) {\r\n          currentKeyKode = \"ctrl\";\r\n        }\r\n\r\n        //if ctrl button we want to remove selection\r\n        if (currentKeyKode === \"ctrl\") {\r\n          this.lastKeyKodeUsed = currentKeyKode;\r\n          isSel = this.isSelected(currentRow);\r\n          if (isSel === true) {\r\n            this.deSelect(currentRow);\r\n          }\r\n          this.lastRowSelected = currentRow;\r\n        } else {\r\n          //else we just want to make it current..\r\n          //isSel = this.isSelected(currentRow);\r\n          this.select(currentRow);\r\n        }\r\n        //update selection on rows\r\n        vGridGenerator.updateSelectionOnAllRows();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n"]}